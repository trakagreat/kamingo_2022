{% load static %}

<button type="button" class="share_{{service.pk}} btn btn-outline-danger mt-2">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-share" viewBox="0 0 16 16">
<path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"></path>
</svg>
    Share
  </button>

<p class="result_{{service.pk}}"></p>

<script>

    const shareData = {
        title: 'Founde a service',
        text: 'Check out this very Good service you can use',
        url: "{% url 'service-detail-page' service.slug %}"
      }
      
      const btn_{{service.pk}} = document.querySelector('.share_{{service.pk}}');
      const resultPara = document.querySelector('.result_{{service.pk}}');
      
      // Share must be triggered by "user activation"
      btn_{{service.pk}}.addEventListener('click', async () => {
        try {
          await navigator.share(shareData)
          resultPara.textContent = 'shared successfully'
        } catch(err) {
          resultPara.textContent = ''
        }
      });
      



</script>
